!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.ReactPlace=t()}}(function(){return function t(e,n,i){function o(u,s){if(!n[u]){if(!e[u]){var l="function"==typeof require&&require;if(!s&&l)return l(u,!0);if(r)return r(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var a=n[u]={exports:{}};e[u][0].call(a.exports,function(t){var n=e[u][1][t];return o(n?n:t)},a,a.exports,t,e,n,i)}return n[u].exports}for(var r="function"==typeof require&&require,u=0;u<i.length;u++)o(i[u]);return o}({1:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();Object.defineProperty(n,"__esModule",{value:!0});var l=window.React,c=i(l),a=window.ReactDOM,f=i(a),p=t("awesomplete"),h=i(p),d=t("promise-polyfill"),v=i(d),g=t("./vendor/google"),y=i(g),m="Unrecognised {{value}}, please check and re-enter.",b="US",_=function(){var t=arguments;return function(e){for(var n=t.length-1;n>=0;n--)e=t[n].call(this,e);return e}},w=function(t){function e(){return o(this,e),r(this,Object.getPrototypeOf(e).apply(this,arguments))}return u(e,t),s(e,[{key:"render",value:function(){return c["default"].createElement("input",{type:"text",className:this.props.className,placeholder:this.props.placeholder||"Type your location here."})}},{key:"componentWillMount",value:function(){this._googlePredictions=[],this._country=this.props.country||b,this._noMatching=this.props.noMatching||m}},{key:"componentDidMount",value:function(){var t,e={minChars:1,keepListItems:!1,sort:function(){return 0},item:function(t,e){return h["default"].$.create("li",{innerHTML:t.replace(RegExp(h["default"].$.regExpEscape(e.trim()),"gi"),"<mark>$&</mark>"),"aria-selected":"false"})}};t=f["default"].findDOMNode(this),this._autocomplete=new h["default"](t,e),t.addEventListener("awesomplete-selectcomplete",this._handleAutocompleteSelect.bind(this)),t.addEventListener("keyup",this._handleInputChange.bind(this))}},{key:"updateCountry",value:function(t){this._country=t}},{key:"_handleInputChange",value:function(t){var e=this,n=this._getInputValue(),i=_(this._autocomplete.evaluate.bind(this._autocomplete),function(t){return e._autocomplete.list=t},function(t){return t.map(function(t){return t.description})},function(t){return e._googlePredictions=t}),o=_(i,function(t){return[{description:t}]},function(t){return e._noMatching.replace("{{value}}",t)}),r=[38,40,13,27],u=r.indexOf(t.keyCode)>=0;u||this._getPredictions(n).then(i,o)}},{key:"_handleAutocompleteSelect",value:function(){var t=this,e=this._getInputValue(),n=function(t){var n=t.filter(function(t){return t.description===e});return n.length>0?n[0]:!1},i=function(t){return t&&t.place_id?t.place_id:!1},o=_(i,n),r=function(n){t.props.onLocationSet&&t.props.onLocationSet({description:e,coords:{lat:n.lat(),lng:n.lng()}})};this._getCoordinates(o(this._googlePredictions)).then(r)}},{key:"_getInputValue",value:function(){return f["default"].findDOMNode(this).value}},{key:"_getPredictions",value:function(t){var e=this,n=(this.props.google||y["default"]).createAutocompleteService(),i=!!t;return i?new v["default"](function(i,o){n.getPlacePredictions({input:t,componentRestrictions:{country:e._country},types:["(regions)"]},function(e){null!==e?i(e):o(t)})}):new v["default"](function(t,e){})}},{key:"_getCoordinates",value:function(t){var e=(this.props.google||y["default"]).createGeocoder();return new v["default"](function(n,i){e.geocode({placeId:t},function(t,e){"OK"===e&&t&&t.length>0?n(t[0].geometry.location):i(!1)})})}}]),e}(c["default"].Component);n["default"]=w,w.propTypes={onLocationSet:c["default"].PropTypes.func,className:c["default"].PropTypes.string,placeholder:c["default"].PropTypes.string,country:c["default"].PropTypes.string,noMatching:c["default"].PropTypes.string,google:c["default"].PropTypes.object},e.exports=n["default"]},{"./vendor/google":2,awesomplete:3,"promise-polyfill":4}],2:[function(t,e,n){(function(t){"use strict";function i(){return new t.google.maps.places.AutocompleteService}function o(){return new t.google.maps.Geocoder}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={createAutocompleteService:i,createGeocoder:o},e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,e,n){!function(){function t(t,e){for(var n in t){var i=t[n],o=this.input.getAttribute("data-"+n.toLowerCase());"number"==typeof i?this[n]=parseInt(o):i===!1?this[n]=null!==o:i instanceof Function?this[n]=null:this[n]=o,this[n]||0===this[n]||(this[n]=n in e?e[n]:i)}}function i(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function o(t,e){return s.call((e||document).querySelectorAll(t))}function r(){o("input.awesomplete").forEach(function(t){new Awesomplete(t)})}var u=function(e,n){var o=this;this.input=i(e),this.input.setAttribute("autocomplete","off"),this.input.setAttribute("aria-autocomplete","list"),n=n||{},t.call(this,{minChars:2,maxItems:10,autoFirst:!1,filter:u.FILTER_CONTAINS,sort:u.SORT_BYLENGTH,item:function(t,e){return i.create("li",{innerHTML:t.replace(RegExp(i.regExpEscape(e.trim()),"gi"),"<mark>$&</mark>"),"aria-selected":"false"})},replace:function(t){this.input.value=t}},n),this.index=-1,this.container=i.create("div",{className:"awesomplete",around:e}),this.ul=i.create("ul",{hidden:"",inside:this.container}),this.status=i.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-relevant":"additions",inside:this.container}),i.bind(this.input,{input:this.evaluate.bind(this),blur:this.close.bind(this),keydown:function(t){var e=t.keyCode;o.opened&&(13===e&&o.selected?(t.preventDefault(),o.select()):27===e?o.close():(38===e||40===e)&&(t.preventDefault(),o[38===e?"previous":"next"]()))}}),i.bind(this.input.form,{submit:this.close.bind(this)}),i.bind(this.ul,{mousedown:function(t){var e=t.target;if(e!==this){for(;e&&!/li/i.test(e.nodeName);)e=e.parentNode;e&&o.select(e)}}}),this.input.hasAttribute("list")?(this.list="#"+e.getAttribute("list"),e.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||n.list||[],u.all.push(this)};u.prototype={set list(t){Array.isArray(t)?this._list=t:"string"==typeof t&&t.indexOf(",")>-1?this._list=t.split(/\s*,\s*/):(t=i(t),t&&t.children&&(this._list=s.apply(t.children).map(function(t){return t.textContent.trim()}))),document.activeElement===this.input&&this.evaluate()},get selected(){return this.index>-1},get opened(){return this.ul&&null==this.ul.getAttribute("hidden")},close:function(){this.ul.setAttribute("hidden",""),this.index=-1,i.fire(this.input,"awesomplete-close")},open:function(){this.ul.removeAttribute("hidden"),this.autoFirst&&-1===this.index&&this["goto"](0),i.fire(this.input,"awesomplete-open")},next:function(){var t=this.ul.children.length;this["goto"](this.index<t-1?this.index+1:-1)},previous:function(){var t=this.ul.children.length;this["goto"](this.selected?this.index-1:t-1)},"goto":function(t){var e=this.ul.children;this.selected&&e[this.index].setAttribute("aria-selected","false"),this.index=t,t>-1&&e.length>0&&(e[t].setAttribute("aria-selected","true"),this.status.textContent=e[t].textContent),i.fire(this.input,"awesomplete-highlight")},select:function(t){if(t=t||this.ul.children[this.index]){var e;i.fire(this.input,"awesomplete-select",{text:t.textContent,preventDefault:function(){e=!0}}),e||(this.replace(t.textContent),this.close(),i.fire(this.input,"awesomplete-selectcomplete"))}},evaluate:function(){var t=this,e=this.input.value;e.length>=this.minChars&&this._list.length>0?(this.index=-1,this.ul.innerHTML="",this._list.filter(function(n){return t.filter(n,e)}).sort(this.sort).every(function(n,i){return t.ul.appendChild(t.item(n,e)),i<t.maxItems-1}),0===this.ul.children.length?this.close():this.open()):this.close()}},u.all=[],u.FILTER_CONTAINS=function(t,e){return RegExp(i.regExpEscape(e.trim()),"i").test(t)},u.FILTER_STARTSWITH=function(t,e){return RegExp("^"+i.regExpEscape(e.trim()),"i").test(t)},u.SORT_BYLENGTH=function(t,e){return t.length!==e.length?t.length-e.length:e>t?-1:1};var s=Array.prototype.slice;return i.create=function(t,e){var n=document.createElement(t);for(var o in e){var r=e[o];if("inside"===o)i(r).appendChild(n);else if("around"===o){var u=i(r);u.parentNode.insertBefore(n,u),n.appendChild(u)}else o in n?n[o]=r:n.setAttribute(o,r)}return n},i.bind=function(t,e){if(t)for(var n in e){var i=e[n];n.split(/\s+/).forEach(function(e){t.addEventListener(e,i)})}},i.fire=function(t,e,n){var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!0);for(var o in n)i[o]=n[o];t.dispatchEvent(i)},i.regExpEscape=function(t){return t.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},"undefined"!=typeof Document&&("loading"!==document.readyState?r():document.addEventListener("DOMContentLoaded",r)),u.$=i,u.$$=o,"undefined"!=typeof self&&(self.Awesomplete=u),"object"==typeof n&&(e.exports=u),u}()},{}],4:[function(t,e,n){!function(t){function n(t,e){return function(){t.apply(e,arguments)}}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],c(t,n(r,this),n(u,this))}function o(t){var e=this;return null===this._state?void this._deferreds.push(t):void a(function(){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return void(e._state?t.resolve:t.reject)(e._value);var i;try{i=n(e._value)}catch(o){return void t.reject(o)}t.resolve(i)})}function r(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void c(n(e,t),n(r,this),n(u,this))}this._state=!0,this._value=t,s.call(this)}catch(i){u.call(this,i)}}function u(t){this._state=!1,this._value=t,s.call(this)}function s(){for(var t=0,e=this._deferreds.length;e>t;t++)o.call(this,this._deferreds[t]);this._deferreds=null}function l(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i}function c(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(o){if(i)return;i=!0,n(o)}}var a="function"==typeof setImmediate&&setImmediate||function(t){setTimeout(t,1)},f=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};i.prototype["catch"]=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n=this;return new i(function(i,r){o.call(n,new l(t,e,i,r))})},i.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&f(arguments[0])?arguments[0]:arguments);return new i(function(e,n){function i(r,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var s=u.then;if("function"==typeof s)return void s.call(u,function(t){i(r,t)},n)}t[r]=u,0===--o&&e(t)}catch(l){n(l)}}if(0===t.length)return e([]);for(var o=t.length,r=0;r<t.length;r++)i(r,t[r])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){for(var i=0,o=t.length;o>i;i++)t[i].then(e,n)})},i._setImmediateFn=function(t){a=t},"undefined"!=typeof e&&e.exports?e.exports=i:t.Promise||(t.Promise=i)}(this)},{}]},{},[1])(1)});
//# sourceMappingURL=./build/react-place.min.js.map